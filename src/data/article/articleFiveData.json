{

  "title": "Ubuntu 20.04 - Manage PostgreSQL 12",
  "slug": "article/ubuntu-20-04-manage-postgresql-12",
  "categories": [
    {
      "id": "3",
      "label": "Tutorial"
    }
  ],
  "lang": "en",
  "author": "FRY",
  "imageUrl": "/article/ubuntu-20-04-manage-postgresql-12/mp12-x5w-20241011131316.png",
  "publishedAt": "2024-1-17",
  "updatedAt": "2024-1-17",
  "headline": "This article exists, to help manage PostgreSQL in Ubuntu",
  "description": "<p>    <strong>Installation Step by Step :</strong></p><p>    <br></p><p>update package list</p><pre spellcheck=\"false\">sudo apt update</pre><p>install required package</p><pre spellcheck=\"false\">sudo apt install postgresql postgresql-contrib</pre><p>default role</p><p>By default, Postgres uses a concept called “roles” to handle authentication and authorization.</p><pre spellcheck=\"false\">sudo -i -u postgres</pre><p>exit postgresql</p><pre spellcheck=\"false\">\\q;</pre><p>    <br></p><p>    <strong>Service Check :</strong></p><p>    <br></p><p>check status postgresql service</p><pre spellcheck=\"false\">sudo systemctl status postgresql</pre><p>restart postgresql service</p><pre spellcheck=\"false\">sudo systemctl restart postgresql</pre><p>start postgresql service</p><pre spellcheck=\"false\">sudo systemctl start postgresql</pre><p>    <br></p><p>    <strong>Creating New Role Step by Step :</strong></p><p>    <br></p><p>create role from default role</p><pre spellcheck=\"false\">sudo -u postgres createuser --interactive</pre><p>after that fill name, superuser and privilage</p><p>    <br></p><p>show list of role, login as default role then</p><pre spellcheck=\"false\">\\du;</pre><p>    <br></p><p>rename role name</p><pre spellcheck=\"false\">ALTER ROLE old_name RENAME TO new_name;</pre><p>    <br></p><p>    <strong>Creating New Database Step by Step :</strong></p><p>    <br></p><p>create database</p><pre spellcheck=\"false\">sudo -u role_name createdb db_name</pre><p>u can fill db name same as role name.</p><p>Note : role_name should have privilage to create database;</p><p>    <br></p><p>    <strong>Opening PostgreSQL customize role from prompt Step by Step :</strong></p><p>    <br></p><p>add user</p><pre spellcheck=\"false\">sudo adduser role_name</pre><p>customize role</p><pre spellcheck=\"false\">sudo -i -u role_name</pre><p>show information</p><pre spellcheck=\"false\">\\conninfo;</pre><p>change password</p><pre spellcheck=\"false\">\\password;</pre><p>then fill new password and reenter new password</p><p>    <br></p><p>    <strong>Database management PostgreSQL Step by Step :</strong></p><p>    <strong>        <span class=\"ql-cursor\"></span>    </strong></p><p>restore database</p><pre sppellcheck=\"false\">sudo -u role_name psql db_name &lt; location_dump.sql</pre><p>look version database, login as default role/customzie role</p><pre spellcheck=\"false\">select VERSION();</pre><p>show database, login as default role/customzie role</p><pre spellcheck=\"false\">\\list;</pre><p>show table, login as default role/customzie role</p><pre spellcheck=\"false\">\\dt;</pre><p>customize show table</p><pre spellcheck=\"false\">\\dt+;</pre><p>connect database, login as default role/customzie role</p><pre spellcheck=\"false\">\\c db_name;</pre><p>    <br></p><p>    <strong>Allow Remote Database management PostgreSQL Step by Step :</strong></p><p>    <br></p><p>edit configuration</p><pre spellcheck=\"false\">sudo nano /etc/postgresql/12/main/postgresql.conf</pre><p>find</p><pre spellcheck=\"false\">#listen_addresses = 'localhost'</pre><p>then replace to</p><pre spellcheck=\"false\">#listen_addresses = '*'</pre><p>edit configuration pga_hba</p><pre spellcheck=\"false\">sudo nano /etc/postgresql/12/main/pg_hba.conf</pre><p>find</p><pre spellcheck=\"false\"># IPv4 local connections: </pre><pre spellcheck=\"false\">host   all            all             127.0.0.1/32           md5</pre><p>then replace to</p><pre spellcheck=\"false\"># IPv4 local connections:  </pre><pre spellcheck=\"false\">host   all            all             0.0.0.0/0           md5</pre><p>allowing port postgresql in firewall</p><pre spellcheck=\"false\">sudo ufw allow 5432/tcp</pre><p>restart postgresql service</p><pre spellcheck=\"false\">sudo systemctl restart postgresql</pre>"
}


